<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.5, maximum-scale=3.0"
    />
    <title>ジェノグラム作成ツール</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <div class="input-panel">
        <h2>家族情報入力</h2>
        <!-- 本人・兄弟姉妹世代 -->
        <div class="generation">
          <h3>本人・兄弟姉妹世代</h3>
          <div class="person-input">
            <div>
              <label>本人 名前</label>
              <input type="text" id="p_name" placeholder="例：田中三郎" />
            </div>
            <div>
              <label>性別</label>
              <select id="p_gender">
                <option value="male">男性</option>
                <option value="female">女性</option>
              </select>
            </div>

            <div>
              <label>生年(西暦)</label>
              <input
                type="number"
                id="p_birth_year"
                min="1900"
                value="1980"
                placeholder="例：1985"
              />
            </div>
            <div>
              <label>生年(和暦)</label>
              <div class="birth-inputs">
                <select class="j-calendar" id="p_birth_era">
                  <option value="">選択してください</option>
                  <option value="明治">明治</option>
                  <option value="大正">大正</option>
                  <option value="昭和">昭和</option>
                  <option value="平成">平成</option>
                  <option value="令和">令和</option>
                </select>
                <input
                  class="j-calendar"
                  type="number"
                  id="p_birth_year_jp"
                  placeholder="例：30"
                  inputmode="numeric"
                  style="ime-mode: disabled"
                />
              </div>
            </div>
            <div class="memo">
              <label>備考</label><input type="text" id="memo_p" />
            </div>
          </div>

          <div id="siblings-container-self">
            <!-- 兄弟姉妹の入力フィールドが動的に追加される -->
          </div>

          <div style="text-align: center; margin: 15px 0">
            <button
              type="button"
              onclick="addPerson('B', 'siblings-container-self', '本人の兄弟姉妹')"
            >
              兄弟姉妹を追加
            </button>
          </div>
        </div>

        <!-- 配偶者・兄弟姉妹世代 -->
        <details class="generation">
          <summary><h3>配偶者・兄弟姉妹世代</h3></summary>
          <div class="person-input">
            <div>
              <label>配偶者 名前</label>
              <input type="text" id="s_name" placeholder="例：田中直子" />
            </div>
            <div>
              <label>性別</label>
              <select id="s_gender">
                <option value="">選択してください</option>
                <option value="male">男性</option>
                <option value="female">女性</option>
              </select>
            </div>
            <div>
              <label>状態</label>
              <select id="s_status">
                <option value="alive">生存</option>
                <option value="deceased">故人</option>
              </select>
            </div>

            <div>
              <label>生年(西暦)</label>
              <input
                type="number"
                id="s_birth_year"
                min="1900"
                value="1980"
                placeholder="例：1987"
              />
            </div>
            <div>
              <label>生年(和暦)</label>
              <div class="birth-inputs">
                <select class="j-calendar" id="s_birth_era">
                  <option value="">選択してください</option>
                  <option value="明治">明治</option>
                  <option value="大正">大正</option>
                  <option value="昭和">昭和</option>
                  <option value="平成">平成</option>
                  <option value="令和">令和</option>
                </select>
                <input
                  class="j-calendar"
                  type="number"
                  id="s_birth_year_jp"
                  placeholder="例：30"
                  inputmode="numeric"
                  style="ime-mode: disabled"
                />
              </div>
            </div>

            <div class="living-together">
              <label>同居</label><input type="checkbox" id="livein_s" />
            </div>

            <div class="memo">
              <label>備考</label><input type="text" id="memo_s" />
            </div>
          </div>
          <div id="siblings-container-spouse">
            <!-- 兄弟姉妹の入力フィールドが動的に追加される -->
          </div>

          <div style="text-align: center; margin: 15px 0">
            <button
              type="button"
              onclick="addPerson('LB', 'siblings-container-spouse', '配偶者の兄弟姉妹')"
            >
              配偶者の兄弟姉妹を追加
            </button>
          </div>
        </details>

        <!-- 親世代 -->
        <details class="generation">
          <summary><h3>本人の親世代</h3></summary>
          <div class="person-input">
            <div>
              <label>父 名前</label>
              <input type="text" id="f_name" placeholder="例：田中次郎" />
            </div>
            <div>
              <label>状態</label>
              <select id="f_status">
                <option value="alive">生存</option>
                <option value="deceased">故人</option>
              </select>
            </div>
            <div>
              <label>生年(西暦)</label>
              <input
                type="number"
                id="f_birth_year"
                min="1900"
                value="1950"
                placeholder="例：1955"
              />
            </div>
            <div>
              <label>生年(和暦)</label>
              <div class="birth-inputs">
                <select class="j-calendar" id="f_birth_era">
                  <option value="">選択してください</option>
                  <option value="明治">明治</option>
                  <option value="大正">大正</option>
                  <option value="昭和">昭和</option>
                  <option value="平成">平成</option>
                  <option value="令和">令和</option>
                </select>
                <input
                  class="j-calendar"
                  type="number"
                  id="f_birth_year_jp"
                  placeholder="例：30"
                  inputmode="numeric"
                  style="ime-mode: disabled"
                />
              </div>
            </div>

            <div class="living-together">
              <label>同居</label><input type="checkbox" id="livein_f" />
            </div>

            <div class="memo">
              <label>備考</label><input type="text" id="memo_f" />
            </div>
          </div>

          <div class="person-input">
            <div>
              <label>母 名前</label>
              <input type="text" id="m_name" placeholder="例：田中恵子" />
            </div>
            <div>
              <label>状態</label>
              <select id="m_status">
                <option value="alive">生存</option>
                <option value="deceased">故人</option>
              </select>
            </div>

            <div>
              <label>生年(西暦)</label>
              <input
                type="number"
                id="m_birth_year"
                min="1900"
                value="1950"
                placeholder="例：1958"
              />
            </div>
            <div>
              <label>生年(和暦)</label>
              <div class="birth-inputs">
                <select class="j-calendar" id="m_birth_era">
                  <option value="">選択してください</option>
                  <option value="明治">明治</option>
                  <option value="大正">大正</option>
                  <option value="昭和">昭和</option>
                  <option value="平成">平成</option>
                  <option value="令和">令和</option>
                </select>
                <input
                  class="j-calendar"
                  type="number"
                  id="m_birth_year_jp"
                  placeholder="例：30"
                  inputmode="numeric"
                  style="ime-mode: disabled"
                />
              </div>
            </div>

            <div class="living-together">
              <label>同居</label><input type="checkbox" id="livein_m" />
            </div>

            <div class="memo">
              <label>備考</label><input type="text" id="memo_m" />
            </div>
          </div>
        </details>

        <details class="generation">
          <summary><h3>配偶者のの親世代</h3></summary>
          <div class="person-input">
            <div>
              <label>父 名前</label>
              <input type="text" id="lf_name" placeholder="例：田中次郎" />
            </div>
            <div>
              <label>状態</label>
              <select id="lf_status">
                <option value="alive">生存</option>
                <option value="deceased">故人</option>
              </select>
            </div>

            <div>
              <label>生年(西暦)</label>
              <input
                type="number"
                id="lf_birth_year"
                min="1900"
                value="1950"
                placeholder="例：1955"
              />
            </div>
            <div>
              <label>生年(和暦)</label>
              <div class="birth-inputs">
                <select class="j-calendar" id="lf_birth_era">
                  <option value="">選択してください</option>
                  <option value="明治">明治</option>
                  <option value="大正">大正</option>
                  <option value="昭和">昭和</option>
                  <option value="平成">平成</option>
                  <option value="令和">令和</option>
                </select>
                <input
                  class="j-calendar"
                  type="number"
                  id="lf_birth_year_jp"
                  placeholder="例：30"
                  inputmode="numeric"
                  style="ime-mode: disabled"
                />
              </div>
            </div>

            <div class="living-together">
              <label>同居</label><input type="checkbox" id="livein_lf" />
            </div>

            <div class="memo">
              <label>備考</label><input type="text" id="memo_lf" />
            </div>
          </div>

          <div class="person-input">
            <div>
              <label>母 名前</label>
              <input type="text" id="lm_name" placeholder="例：田中恵子" />
            </div>
            <div>
              <label>状態</label>
              <select id="lm_status">
                <option value="alive">生存</option>
                <option value="deceased">故人</option>
              </select>
            </div>

            <div>
              <label>生年(西暦)</label>
              <input
                type="number"
                id="lm_birth_year"
                min="1900"
                value="1950"
                placeholder="例：1958"
              />
            </div>
            <div>
              <label>生年(和暦)</label>
              <div class="birth-inputs">
                <select class="j-calendar" id="lm_birth_era">
                  <option value="">選択してください</option>
                  <option value="明治">明治</option>
                  <option value="大正">大正</option>
                  <option value="昭和">昭和</option>
                  <option value="平成">平成</option>
                  <option value="令和">令和</option>
                </select>
                <input
                  class="j-calendar"
                  type="number"
                  id="lm_birth_year_jp"
                  placeholder="例：30"
                  inputmode="numeric"
                  style="ime-mode: disabled"
                />
              </div>
            </div>

            <div class="living-together">
              <label>同居</label><input type="checkbox" id="livein_lm" />
            </div>

            <div class="memo">
              <label>備考</label><input type="text" id="memo_lm" />
            </div>
          </div>
        </details>

        <!-- 本人の子世代 -->
        <details class="generation">
          <summary><h3>本人の子世代</h3></summary>

          <!-- 長子-->
          <details class="generation" id="child1-container" open>
            <summary><h4>長子</h4></summary>
            <div class="person-input">
              <div>
                <label>長子 名前</label>
                <input type="text" id="C1_name" placeholder="例：田中健太" />
              </div>
              <div>
                <label>性別</label>
                <select id="C1_gender">
                  <option value="">選択してください</option>
                  <option value="male">男性</option>
                  <option value="female">女性</option>
                </select>
              </div>
              <div>
                <label>状態</label>
                <select id="C1_status">
                  <option value="alive">生存</option>
                  <option value="deceased">故人</option>
                </select>
              </div>
              <div>
                <label>生年(西暦)</label>
                <input
                  type="number"
                  id="C1_birth_year"
                  min="1900"
                  placeholder="例：2010"
                />
              </div>
              <div>
                <label>生年(和暦)</label>
                <div class="birth-inputs">
                  <select class="j-calendar" id="C1_birth_era">
                    <option value="">選択してください</option>
                    <option value="明治">明治</option>
                    <option value="大正">大正</option>
                    <option value="昭和">昭和</option>
                    <option value="平成">平成</option>
                    <option value="令和">令和</option>
                  </select>
                  <input
                    class="j-calendar"
                    type="number"
                    id="C1_birth_year_jp"
                    placeholder="例：30"
                  />
                </div>
              </div>
              <div class="living-together">
                <label>同居</label><input type="checkbox" id="C1_livein" />
              </div>
              <div class="memo">
                <label>備考</label><input type="text" id="C1_memo" />
              </div>
            </div>
          </details>

          <!-- 動的に第2子以降をここに追加 -->
          <div id="children-container"></div>

          <!-- 子供追加ボタン -->
          <div style="text-align: center; margin: 15px 0">
            <button
              type="button"
              onclick="addPerson('C', 'children-container', '子', true)"
            >
              子供を追加
            </button>
          </div>
        </details>

        <!-- 祖父母世代 -->
        <details class="generation">
          <summary><h3>本人の祖父母世代</h3></summary>
          <div class="person-input">
            <div>
              <label>父方祖父 名前</label>
              <input type="text" id="ff_name" placeholder="例：田中太郎" />
            </div>

            <div>
              <label>状態</label>
              <select id="ff_status">
                <option value="alive">生存</option>
                <option value="deceased">故人</option>
              </select>
            </div>
            <div>
              <label>生年(西暦)</label>
              <input
                type="number"
                id="ff_birth_year"
                min="1900"
                value="1950"
                placeholder="例：1930"
              />
            </div>
            <div>
              <label>生年(和暦)</label>
              <div class="birth-inputs">
                <select class="j-calendar" id="ff_birth_era">
                  <option value="">選択してください</option>
                  <option value="明治">明治</option>
                  <option value="大正">大正</option>
                  <option value="昭和">昭和</option>
                  <option value="平成">平成</option>
                  <option value="令和">令和</option>
                </select>
                <input
                  class="j-calendar"
                  type="number"
                  id="ff_birth_year_jp"
                  placeholder="例：30"
                  inputmode="numeric"
                  style="ime-mode: disabled"
                />
              </div>
            </div>

            <div class="living-together">
              <label>同居</label><input type="checkbox" id="livein_ff" />
            </div>

            <div class="memo">
              <label>備考</label><input type="text" id="memo_ff" />
            </div>
          </div>

          <div class="person-input">
            <div>
              <label>父方祖母 名前</label>
              <input type="text" id="fm_name" placeholder="例：田中花子" />
            </div>
            <div>
              <label>状態</label>
              <select id="fm_status">
                <option value="alive">生存</option>
                <option value="deceased">故人</option>
              </select>
            </div>
            <div>
              <label>生年(西暦)</label>
              <input
                type="number"
                id="fm_birth_year"
                min="1900"
                value="1950"
                placeholder="例：1935"
              />
            </div>
            <div>
              <label>生年(和暦)</label>
              <div class="birth-inputs">
                <select class="j-calendar" id="fm_birth_era">
                  <option value="">選択してください</option>
                  <option value="明治">明治</option>
                  <option value="大正">大正</option>
                  <option value="昭和">昭和</option>
                  <option value="平成">平成</option>
                  <option value="令和">令和</option>
                </select>
                <input
                  class="j-calendar"
                  type="number"
                  id="fm_birth_year_jp"
                  placeholder="例：30"
                  inputmode="numeric"
                  style="ime-mode: disabled"
                />
              </div>
            </div>

            <div class="living-together">
              <label>同居</label><input type="checkbox" id="livein_fm" />
            </div>

            <div class="memo">
              <label>備考</label><input type="text" id="memo_fm" />
            </div>
          </div>

          <div class="person-input">
            <div>
              <label>母方祖父 名前</label>
              <input
                type="text"
                id="mf_name"
                min="1900"
                value="1950"
                placeholder="例：佐藤一郎"
              />
            </div>
            <div>
              <label>状態</label>
              <select id="mf_status">
                <option value="alive">生存</option>
                <option value="deceased">故人</option>
              </select>
            </div>
            <div>
              <label>生年(西暦)</label>
              <input
                type="number"
                id="mf_birth_year"
                min="1900"
                value="1950"
                placeholder="例：1928"
              />
            </div>
            <div>
              <label>生年(和暦)</label>
              <div class="birth-inputs">
                <select class="j-calendar" id="mf_birth_era">
                  <option value="">選択してください</option>
                  <option value="明治">明治</option>
                  <option value="大正">大正</option>
                  <option value="昭和">昭和</option>
                  <option value="平成">平成</option>
                  <option value="令和">令和</option>
                </select>
                <input
                  class="j-calendar"
                  type="number"
                  id="mf_birth_year_jp"
                  placeholder="例：30"
                  inputmode="numeric"
                  style="ime-mode: disabled"
                />
              </div>
            </div>

            <div class="living-together">
              <label>同居</label><input type="checkbox" id="livein_mf" />
            </div>

            <div class="memo">
              <label>備考</label><input type="text" id="memo_mf" />
            </div>
          </div>

          <div class="person-input">
            <div>
              <label>母方祖母 名前</label>
              <input type="text" id="mm_name" placeholder="例：佐藤美子" />
            </div>
            <div>
              <label>状態</label>
              <select id="mm_status">
                <option value="alive">生存</option>
                <option value="deceased">故人</option>
              </select>
            </div>
            <div>
              <label>生年(西暦)</label>
              <input
                type="number"
                id="mm_birth_year"
                min="1900"
                value="1950"
                placeholder="例：1932"
              />
            </div>
            <div>
              <label>生年(和暦)</label>
              <div class="birth-inputs">
                <select class="j-calendar" id="mm_birth_era">
                  <option value="">選択してください</option>
                  <option value="明治">明治</option>
                  <option value="大正">大正</option>
                  <option value="昭和">昭和</option>
                  <option value="平成">平成</option>
                  <option value="令和">令和</option>
                </select>
                <input
                  class="j-calendar"
                  type="number"
                  id="mm_birth_year_jp"
                  placeholder="例：30"
                  inputmode="numeric"
                  style="ime-mode: disabled"
                />
              </div>
            </div>

            <div class="living-together">
              <label>同居</label><input type="checkbox" id="livein_mm" />
            </div>

            <div class="memo">
              <label>備考</label><input type="text" id="memo_mm" />
            </div>
          </div>
        </details>

        <details class="generation">
          <summary><h3>配偶者の祖父母世代</h3></summary>
          <div class="person-input">
            <div>
              <label>父方祖父 名前</label>
              <input type="text" id="lff_name" placeholder="例：田中太郎" />
            </div>
            <div>
              <label>状態</label>
              <select id="lff_status">
                <option value="alive">生存</option>
                <option value="deceased">故人</option>
              </select>
            </div>
            <div>
              <label>生年(西暦)</label>
              <input
                type="number"
                id="lff_birth_year"
                min="1900"
                value="1950"
                placeholder="例：1930"
              />
            </div>
            <div>
              <label>生年(和暦)</label>
              <div class="birth-inputs">
                <select class="j-calendar" id="lff_birth_era">
                  <option value="">選択してください</option>
                  <option value="明治">明治</option>
                  <option value="大正">大正</option>
                  <option value="昭和">昭和</option>
                  <option value="平成">平成</option>
                  <option value="令和">令和</option>
                </select>
                <input
                  class="j-calendar"
                  type="number"
                  id="lff_birth_year_jp"
                  placeholder="例：30"
                  inputmode="numeric"
                  style="ime-mode: disabled"
                />
              </div>
            </div>

            <div class="living-together">
              <label>同居</label><input type="checkbox" id="livein_lff" />
            </div>

            <div class="memo">
              <label>備考</label><input type="text" id="memo_lff" />
            </div>
          </div>

          <div class="person-input">
            <div>
              <label>父方祖母 名前</label>
              <input type="text" id="lfm_name" placeholder="例：田中花子" />
            </div>
            <div>
              <label>状態</label>
              <select id="lfm_status">
                <option value="alive">生存</option>
                <option value="deceased">故人</option>
              </select>
            </div>
            <div>
              <label>生年(西暦)</label>
              <input
                type="number"
                id="lfm_birth_year"
                min="1900"
                value="1950"
                placeholder="例：1935"
              />
            </div>
            <div>
              <label>生年(和暦)</label>
              <div class="birth-inputs">
                <select class="j-calendar" id="lfm_birth_era">
                  <option value="">選択してください</option>
                  <option value="明治">明治</option>
                  <option value="大正">大正</option>
                  <option value="昭和">昭和</option>
                  <option value="平成">平成</option>
                  <option value="令和">令和</option>
                </select>
                <input
                  class="j-calendar"
                  type="number"
                  id="lfm_birth_year_jp"
                  placeholder="例：30"
                  inputmode="numeric"
                  style="ime-mode: disabled"
                />
              </div>
            </div>

            <div class="living-together">
              <label>同居</label><input type="checkbox" id="livein_lfm" />
            </div>

            <div class="memo">
              <label>備考</label><input type="text" id="memo_lfm" />
            </div>
          </div>

          <div class="person-input">
            <div>
              <label>母方祖父 名前</label>
              <input type="text" id="lmf_name" placeholder="例：佐藤一郎" />
            </div>
            <div>
              <label>状態</label>
              <select id="lmf_status">
                <option value="alive">生存</option>
                <option value="deceased">故人</option>
              </select>
            </div>
            <div>
              <label>生年(西暦)</label>
              <input
                type="number"
                id="lmf_birth_year"
                min="1900"
                value="1950"
                placeholder="例：1928"
              />
            </div>
            <div>
              <label>生年(和暦)</label>
              <div class="birth-inputs">
                <select class="j-calendar" id="lmf_birth_era">
                  <option value="">選択してください</option>
                  <option value="明治">明治</option>
                  <option value="大正">大正</option>
                  <option value="昭和">昭和</option>
                  <option value="平成">平成</option>
                  <option value="令和">令和</option>
                </select>
                <input
                  class="j-calendar"
                  type="number"
                  id="lmf_birth_year_jp"
                  placeholder="例：30"
                  inputmode="numeric"
                  style="ime-mode: disabled"
                />
              </div>
            </div>

            <div class="living-together">
              <label>同居</label><input type="checkbox" id="livein_lmf" />
            </div>

            <div class="memo">
              <label>備考</label><input type="text" id="memo_lmf" />
            </div>
          </div>

          <div class="person-input">
            <div>
              <label>母方祖母 名前</label>
              <input type="text" id="lmm_name" placeholder="例：佐藤美子" />
            </div>
            <div>
              <label>状態</label>
              <select id="lmm_status">
                <option value="alive">生存</option>
                <option value="deceased">故人</option>
              </select>
            </div>
            <div>
              <label>生年(西暦)</label>
              <input
                type="number"
                id="lmm_birth_year"
                min="1900"
                value="1950"
                placeholder="例：1932"
              />
            </div>
            <div>
              <label>生年(和暦)</label>
              <div class="birth-inputs">
                <select class="j-calendar" id="lmm_birth_era">
                  <option value="">選択してください</option>
                  <option value="明治">明治</option>
                  <option value="大正">大正</option>
                  <option value="昭和">昭和</option>
                  <option value="平成">平成</option>
                  <option value="令和">令和</option>
                </select>
                <input
                  class="j-calendar"
                  type="number"
                  id="lmm_birth_year_jp"
                  placeholder="例：30"
                  inputmode="numeric"
                  style="ime-mode: disabled"
                />
              </div>
            </div>

            <div class="living-together">
              <label>同居</label><input type="checkbox" id="livein_lmm" />
            </div>

            <div class="memo">
              <label>備考</label><input type="text" id="memo_lmm" />
            </div>
          </div>
        </details>

        <div style="text-align: center">
          <button onclick="generateGenogram()">ジェノグラム作成</button>
          <button class="clear-btn" onclick="clearInputs()">入力クリア</button>
          <button id="draw-dummy-btn" type="button">ダミーデータ描画</button>
        </div>

        <div class="legend">
          <h4>記号の説明</h4>
          <div class="legend-item">
            <span class="symbol male"></span>男性（四角）
          </div>
          <div class="legend-item">
            <span class="symbol female"></span>女性（円）
          </div>
          <div class="legend-item">
            <span class="symbol deceased"></span>故人（グレー）
          </div>
        </div>
      </div>

      <div class="genogram-panel">
        <h2>ジェノグラム</h2>
        <svg id="genogram-svg" viewBox="0 0 800 600">
          <text x="400" y="300" text-anchor="middle" fill="#ccc" font-size="18">
            情報を入力して「ジェノグラム作成」ボタンを押してください
          </text>
        </svg>
      </div>
    </div>
    <script src="script.js"></script>
    <script src="add.js"></script>
  </body>
</html>
